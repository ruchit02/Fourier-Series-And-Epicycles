var canvas = document.getElementById("canvas");
var gContext = canvas.getContext("2d");

function setUpCanvas(){

    gContext.fillStyle = 'rgba(0, 0, 0, 1)';
    gContext.fillRect(0, 0, 1000, 600);
    gContext.strokeStyle = "rgba(128,240,255,1)";
}


//includes both x and y values
//let completeSignal = [31,218,32,217,33,216,33,215,33,214,33,213,33,212,33,211,33,210,33,209,33,208,33,207,33,206,33,205,33,204,33,203,33,202,34,201,34,200,34,199,34,198,34,197,34,196,34,195,34,194,35,193,36,192,36,191,36,190,36,189,36,188,36,187,36,186,37,185,38,184,38,183,38,182,38,181,38,180,38,179,38,178,39,177,40,176,40,175,40,174,40,173,40,172,40,171,41,170,42,169,42,168,42,167,42,166,42,165,43,164,44,163,44,162,44,161,44,160,44,159,45,158,46,157,46,156,46,155,47,154,48,153,48,152,48,151,48,150,48,149,49,148,50,147,50,146,50,145,51,144,52,143,52,142,52,141,53,140,54,139,54,138,55,137,55,136,55,135,55,134,55,133,56,132,57,131,58,130,59,129,59,128,59,127,60,126,61,125,61,124,61,123,62,122,63,121,63,120,63,119,64,118,65,117,66,116,67,115,67,114,67,113,68,112,69,111,70,110,71,109,71,108,71,107,72,106,73,105,74,104,75,103,75,102,75,101,76,100,77,99,78,98,78,97,78,96,79,95,80,94,81,93,82,92,83,91,84,90,85,89,86,88,87,87,88,86,88,85,88,84,89,84,90,83,90,82,91,82,92,81,92,80,93,80,94,79,94,78,95,78,96,77,96,76,97,75,98,74,99,73,100,73,101,72,101,71,102,71,103,70,103,69,104,69,105,68,105,67,106,67,107,66,107,65,108,65,109,64,109,63,110,63,111,62,111,61,112,61,113,60,113,59,114,59,115,58,115,57,116,57,117,57,118,56,119,55,120,54,121,53,122,52,123,52,124,52,125,51,126,50,127,50,128,50,129,49,130,48,131,47,132,46,133,46,134,46,135,45,136,44,137,44,138,44,139,43,140,42,141,42,142,42,143,41,144,40,145,40,146,40,147,40,148,40,148,41,147,42,146,43,145,44,144,45,143,46,142,47,141,48,140,49,139,50,138,51,137,52,136,53,135,54,134,55,133,56,132,57,131,58,131,59,131,60,130,61,129,62,128,63,127,64,126,65,125,66,125,67,125,68,124,68,123,69,123,70,122,71,121,72,121,73,120,74,119,75,118,76,118,77,118,78,117,79,116,80,116,81,116,82,115,83,114,84,114,85,114,86,113,87,112,88,112,89,112,90,111,91,110,92,110,93,110,94,109,95,108,96,108,97,108,98,107,99,106,100,106,101,106,102,105,103,104,104,104,105,104,106,103,107,102,108,102,109,102,110,102,111,102,112,101,113,100,114,100,115,100,116,100,117,99,118,98,119,98,120,98,121,98,122,98,123,97,124,97,125,97,126,97,127,97,128,96,129,95,130,95,131,95,132,95,133,95,134,94,135,93,136,93,137,93,138,93,139,93,140,93,141,93,142,92,142,91,143,91,144,91,145,91,146,91,147,91,148,91,149,90,150,89,151,89,152,89,153,89,154,89,155,89,156,89,157,88,158,87,159,87,160,87,161,87,162,87,163,87,164,87,165,87,166,87,167,87,168,86,169,85,170,85,171,85,172,85,173,85,174,85,175,85,176,85,177,85,178,85,179,85,180,85,181,85,182,84,183,83,183,82,184,82,185,82,186,82,187,82,188,82,189,82,190,82,191,82,192,82,193,82,194,82,195,82,196,82,197,82,198,82,199,82,200,82,201,82,202,82,203,82,204,82,205,82,206,82,207,82,208,82,209,82,210,82,211,82,212,82,213,82,214,82,215,82,216,82,217,82,218,82,219,82,220,82,221,82,222,82,223,82,224,82,225,82,226,82,227,82,228,82,229,82,230,83,231,84,231,85,231,86,230,86,229,86,228,86,227,86,226,86,225,86,224,86,223,86,222,86,221,86,220,86,219,86,218,86,217,86,216,86,215,86,214,86,213,86,212,86,211,86,210,86,209,86,208,86,207,86,206,86,205,86,204,86,203,86,202,86,201,86,200,86,199,86,198,86,197,86,196,86,195,86,194,86,193,86,192,87,191,88,190,88,189,88,188,88,187,88,186,88,185,88,184,88,183,88,182,88,181,88,180,88,179,88,178,89,177,90,176,90,175,90,174,90,173,90,172,90,171,90,170,90,169,90,168,90,167,91,166,92,165,92,164,92,163,92,162,92,161,92,160,92,159,92,158,92,157,93,156,94,155,94,154,94,153,94,152,94,151,94,150,94,149,95,148,96,147,96,146,96,145,96,144,96,143,97,142,98,141,98,140,98,139,98,138,98,137,98,136,99,135,99,134,99,133,99,132,99,131,100,130,101,129,101,128,101,127,101,126,101,125,102,124,103,123,103,122,103,121,103,120,103,119,104,118,105,117,105,116,105,115,106,114,107,113,107,112,107,111,107,110,107,109,108,109,109,108,109,107,109,106,109,105,110,105,111,104,111,103,111,102,112,101,113,100,113,99,113,98,114,97,115,96,115,95,115,94,116,93,117,92,117,91,117,90,118,89,119,88,119,87,119,86,120,85,120,84,120,83,121,82,122,81,122,80,122,79,123,78,124,77,125,76,126,75,126,74,126,73,127,72,128,71,129,70,130,69,130,68,130,67,131,66,132,65,133,64,134,63,135,62,136,61,136,60,136,59,137,58,138,57,138,56,139,55,140,54,141,53,142,53,142,54,142,55,141,56,140,57,139,58,139,59,138,60,137,61,137,62,137,63,136,64,135,65,135,66,135,67,134,68,133,69,133,70,133,71,133,72,133,73,132,74,131,75,131,76,131,77,130,78,129,79,129,80,129,81,129,82,129,83,128,84,127,85,127,86,127,87,127,88,127,89,126,89,125,90,125,91,125,92,125,93,125,94,125,95,125,96,124,97,123,98,123,99,123,100,123,101,123,102,123,103,123,104,122,105,121,106,121,107,121,108,121,109,121,110,121,111,121,112,121,113,121,114,121,115,120,116,120,117,119,118,119,119,119,120,119,121,119,122,119,123,119,124,119,125,119,126,119,127,119,128,119,129,119,130,119,131,119,132,119,133,119,134,119,135,119,136,119,137,119,138,119,139,119,140,119,141,119,142,119,143,119,144,119,145,119,146,119,147,119,148,119,149,119,150,119,151,119,152,119,153,119,154,119,155,119,156,119,157,119,158,119,159,119,160,119,161,119,162,119,163,119,164,119,165,119,166,119,167,119,168,119,169,119,170,119,171,119,172,119,173,119,174,119,175,119,176,119,177,119,178,119,179,119,180,119,181,120,182,120,183,120,184,120,185,120,186,120,187,121,188,121,189,121,190,121,191,121,192,121,193,122,194,122,195,122,196,123,197,123,198,123,199,123,200,123,201,123,202,123,203,124,204,125,205,125,206,125,207,125,208,125,209,126,210,126,211,126,212,126,213,126,214,127,215,128,216,129,217,129,218,130,219,131,219,132,218,132,217,132,216,132,215,132,214,131,213,130,212,130,211,130,210,130,209,129,208,128,207,128,206,128,205,128,204,128,203,127,202,126,201,126,200,126,199,126,198,126,197,126,196,126,195,126,194,126,193,126,192,126,191,126,190,126,189,125,188,124,187,124,186,124,185,124,184,124,183,124,182,124,181,124,180,124,179,124,178,124,177,124,176,124,175,124,174,124,173,124,172,124,171,124,170,124,169,124,168,123,167,123,166,123,165,123,164,123,163,123,162,123,161,123,160,123,159,123,158,123,157,123,156,123,155,123,154,123,153,123,152,123,151,123,150,123,149,123,148,123,147,123,146,123,145,123,144,123,143,123,142,123,141,123,140,123,139,123,138,123,137,123,136,124,135,124,134,124,133,124,132,124,131,124,130,124,129,124,128,124,127,124,126,124,125,124,124,124,123,124,122,124,121,124,120,124,119,124,118,124,117,125,116,126,115,126,114,126,113,126,112,126,111,126,110,126,109,126,108,126,107,126,106,127,105,128,104,128,103,128,102,128,101,128,100,128,99,128,98,129,97,130,96,130,95,130,94,130,93,130,92,131,91,132,90,132,89,132,88,132,87,132,86,132,85,132,84,133,84,134,83,134,82,134,81,134,80,134,79,135,78,136,77,136,76,136,75,137,74,138,73,138,72,138,71,139,70,140,69,140,68,140,67,140,66,140,65,141,64,142,63,143,62,143,61,143,60,144,59,145,58,145,57,145,56,146,55,147,54,147,53,147,52,148,51,149,50,149,49,149,48,150,47,151,46,151,45,151,44,152,44,153,44,154,44,154,45,154,46,154,47,154,48,153,49,152,50,151,51,150,52,150,53,150,54,149,55,148,56,148,57,148,58,148,59,148,60,148,61,148,62,147,63,146,64,146,65,146,66,145,67,144,68,144,69,144,70,143,71,142,72,142,73,142,74,142,75,142,76,142,77,141,78,141,79,141,80,141,81,141,82,140,83,139,84,139,85,139,86,139,87,139,88,139,89,138,90,138,91,137,92,137,93,137,94,137,95,137,96,137,97,137,98,137,99,137,100,137,101,137,102,137,103,137,104,137,105,136,106,135,107,135,108,135,109,135,110,135,111,135,112,135,113,135,114,135,115,135,116,135,117,135,118,135,119,135,120,135,121,135,122,135,123,135,124,135,125,135,126,135,127,136,128,137,129,137,130,137,131,137,132,137,133,137,134,137,135,137,136,137,137,137,138,137,139,137,140,138,141,139,142,139,143,139,144,139,145,139,146,139,147,139,148,140,149,141,150,141,151,141,152,141,153,141,154,142,155,142,156,142,157,142,158,142,159,143,160,144,161,144,162,144,163,145,164,146,165,146,166,146,167,146,168,147,169,148,170,149,171,150,172,150,173,150,174,151,175,152,176,152,177,152,178,153,179,154,180,155,181,156,182,156,183,156,184,157,185,158,186,159,187,160,188,161,189,161,190,162,191,162,192,163,193,164,194,165,195,166,196,167,197,168,198,169,199,170,200,171,201,172,202,173,203,174,203,175,202,176,201,175,200,174,199,173,198,172,197,171,196,170,195,169,194,168,193,167,192,166,191,165,190,164,189,163,188,163,187,163,186,162,185,161,184,160,183,159,182,159,181,159,180,158,179,157,178,156,177,155,176,155,175,155,174,154,173,153,172,153,171,153,170,152,169,151,169,151,168,151,167,151,166,150,165,149,164,149,163,148,162,148,161,147,160,147,159,147,158,147,157,146,156,145,155,145,154,145,153,145,152,145,151,145,150,145,149,144,148,143,147,143,146,143,145,143,144,143,143,143,142,143,141,142,140,142,139,142,138,142,137,142,136,142,135,142,134,142,133,142,132,142,131,142,130,142,129,141,128,140,127,140,126,140,125,140,124,140,123,140,122,140,121,140,120,140,119,140,118,140,117,140,116,140,115,140,114,140,113,140,112,140,111,140,110,140,109,140,108,140,107,140,106,140,105,140,104,140,103,141,102,142,101,142,100,142,99,142,98,142,97,142,96,142,95,142,94,142,93,142,92,142,91,142,90,143,89,143,88,143,87,144,86,145,86,146,86,146,87,146,88,146,89,146,90,145,91,144,92,144,93,144,94,144,95,144,96,144,97,144,98,144,99,144,100,144,101,144,102,144,103,144,104,144,105,144,106,144,107,144,108,144,109,145,110,146,111,146,112,146,113,146,114,146,115,146,116,146,117,147,118,148,119,148,120,148,121,148,122,148,123,149,124,150,124,150,125,150,126,150,127,151,128,152,128,152,129,152,130,153,131,154,132,154,133,154,134,155,135,156,136,156,137,156,138,157,139,158,140,159,141,160,142,161,143,162,144,162,145,162,146,163,147,164,148,165,149,166,150,167,151,168,151,169,151,170,152,171,153,172,154,173,155,174,156,175,157,176,157,177,157,178,158,179,159,180,160,181,160,182,161,183,161,184,162,185,162,186,162,187,162,188,163,189,164,190,164,191,164,192,164,193,164,194,164,195,164,196,165,197,166,198,166,199,166,200,166,201,166,202,166,203,166,204,166,205,166,206,165,206,164,205,163,205,162,205,161,204,160,203,159,202,158,201,157,201,156,201,155,200,154,199,153,199,152,199,151,199,150,199,149,198,148,197,148,197,147,197,146,197,145,197,144,196,143,195,142,195,141,195,140,195,139,195,138,195,137,195,136,195,135,195,134,195,133,195,132,195,131,195,130,195,129,195,128,195,127,195,126,195,125,195,124,195,123,194,122,193,121,192,120,191,119,191,118,191,117,192,116,193,115,193,114,193,113,192,112,191,112,190,112,189,111,188,110,188,109,189,108,190,107,191,107,192,107,193,107,194,107,195,107,196,107,197,106,198,105,199,104,199,103,198,102,197,102,196,101,195,100,195,99,195,98,196,97,197,97,198,97,199,97,200,97,201,97,202,97,203,96,203,95,203,94,202,93,201,92,200,91,199,90,198,89,197,88,196,87,195,86,194,85,193,84,193,83,194,82,195,82,196,82,197,82,198,83,199,84,200,84,201,84,202,84,203,84,204,84,205,84,206,85,207,86,208,86,209,86,210,86,211,86,212,86,213,86,214,86,215,86,216,86,217,86,218,85,218,84,217,83,216,82,215,81,214,81,214,80,213,79,212,79,212,78,211,77,210,77,210,76,209,75,208,74,208,73,207,72,206,71,205,70,205,69,205,68,204,67,203,66,203,65,203,64,203,63,204,63,205,63,206,64,207,65,208,65,209,65,210,66,211,67,212,68,213,69,214,70,215,71,216,71,217,71,218,72,219,73,220,73,221,73,222,74,223,75,224,75,225,74,226,75,227,75,228,76,229,76,230,76,231,76,232,76,233,77,234,76,235,75,234,74,233,73,232,72,231,71,231,70,231,69,230,68,229,67,229,66,229,65,228,64,227,63,226,62,226,61,226,60,225,59,224,58,224,57,224,56,224,55,224,54,223,53,222,52,222,51,222,50,222,49,222,48,223,48,224,48,225,48,225,49,226,50,227,51,228,52,229,53,230,54,230,55,231,56,232,57,233,57,234,57,234,58,235,59,236,59,236,60,237,61,238,61,238,62,239,63,240,63,240,64,241,65,242,65,242,66,243,67,244,67,244,68,245,69,246,69,247,69,248,70,249,71,250,70,251,69,251,68,250,67,249,66,249,65,249,64,248,63,247,62,247,61,247,60,247,59,247,58,247,57,247,56,246,55,245,54,245,53,245,52,245,51,245,50,245,49,245,48,245,47,245,46,245,45,245,44,245,43,245,42,245,41,245,40,245,39,246,39,247,40,248,41,248,42,248,43,249,44,250,45,250,46,250,47,251,48,252,49,253,50,253,51,253,52,254,53,255,54,256,55,257,56,258,57,259,58,259,59,259,60,260,61,261,62,262,63,263,63,264,62,264,61,264,60,264,59,264,58,264,57,264,56,264,55,264,54,264,53,264,52,264,51,264,50,264,49,264,48,264,47,264,46,264,45,264,44,264,43,264,42,264,41,264,40,264,39,264,38,264,37,265,37,266,38,267,39,267,40,267,41,267,42,267,43,267,44,267,45,267,46,267,47,267,48,267,49,267,50,268,51,269,52,269,53,269,54,269,55,269,56,269,57,269,58,269,59,269,60,270,61,271,62,271,63,271,64,271,65,271,66,271,67,271,68,272,69,272,70,273,71,273,72,274,73,275,74,276,74,277,75,278,74,279,74,280,75,281,76,282,76,283,76,284,77,285,78,286,79,286,80,286,81,286,82,286,83,287,84,288,85,289,86,290,87,291,88,292,89,293,90,294,90,295,90,296,91,297,92,298,92,299,92,300,92,301,92,302,93,303,94,304,94,305,94,305,95,305,96,304,97,303,98,302,99,301,100,300,100,299,100,298,101,297,102,296,102,295,102,294,102,293,102,292,102,291,102,290,101,289,100,288,100,287,100,286,100,285,100,284,99,283,98,282,98,281,98,280,97,279,96,278,96,277,96,276,95,275,95,274,94,273,93,272,93,271,93,270,94,270,95,271,96,272,97,273,98,274,99,275,100,276,101,277,101,278,101,278,102,279,103,280,103,280,104,281,105,282,105,282,106,283,107,284,107,285,107,286,107,286,108,287,109,288,109,289,109,290,110,291,111,292,111,293,111,293,112,293,113,293,114,292,114,291,114,290,114,289,114,288,114,287,114,286,114,285,114,284,114,283,114,282,114,281,114,280,114,279,113,278,112,277,112,276,112,275,111,274,110,273,110,272,110,271,109,270,108,269,107,268,106,267,105,266,104,265,103,264,102,263,101,262,100,261,99,260,98,259,98,258,98,257,97,256,96,255,96,254,96,253,96,252,96,251,96,250,96,249,96,248,96,247,97,246,98,245,98,244,98,243,98,242,98,241,99,240,100,239,100,238,100,237,101,236,102,235,103,234,104,233,105,232,106,232,107,232,108,231,109,230,110,230,111,230,112,229,113,228,114,228,115,228,116,228,117,228,118,228,119,227,120,227,121,227,122,227,123,228,124,228,125,228,126,228,127,228,128,228,129,228,130,229,131,230,132,230,133,230,134,231,135,232,136,232,137,232,138,233,139,234,140,235,141,236,142,237,143,238,144,238,145,238,146,239,147,240,147,240,148,241,149,242,149,242,150,243,151,244,152,245,153,246,154,247,155,248,155,249,155,250,155,251,155,252,155,253,155,254,155,255,155,256,155,257,155,258,155,259,155,260,156,261,157,262,157,263,157,264,157,265,157,266,157,267,156,268,155,269,155,270,155,271,155,272,155,273,155,274,155,275,155,276,155,277,155,278,155,279,155,280,155,281,154,281,153,282,153,283,153,284,153,285,153,286,152,287,151,288,151,289,151,290,151,291,151,292,150,293,149,294,149,295,149,296,148,297,147,298,147,299,147,300,146,301,145,302,145,303,145,304,144,305,143,306,142,307,141,308,141,309,141,310,140,311,139,312,138,313,137,314,136,315,135,316,134,317,133,318,132,319,131,320,130,321,129,321,128,321,127,322,126,323,125,324,124,325,123,326,123,326,124,326,125,325,126,324,127,324,128,324,129,324,130,324,131,324,132,324,133,324,134,324,135,324,136,324,137,324,138,324,139,324,140,323,141,322,142,322,143,322,144,322,145,322,146,322,147,322,148,321,149,320,150,320,151,320,152,320,153,320,154,320,155,319,156,318,157,318,158,318,159,317,160,317,161,316,162,316,163,316,164,316,165,315,166,314,167,313,168,313,169,313,170,312,171,311,172,311,173,311,174,310,175,309,176,308,177,307,178,307,179,307,180,306,181,305,182,304,183,303,184,303,185,303,186,302,187,301,188,300,189,299,190,298,191,298,192,299,193,300,194,301,195,302,194,302,193,302,192,303,191,304,190,305,189,306,188,306,187,306,186,307,185,308,184,309,183,310,182,311,181,312,180,312,179,312,178,313,177,314,176,315,175,316,174,316,173,316,172,317,171,317,170,317,169,318,168,319,167,319,166,319,165,320,164,321,163,321,162,321,161,322,160,323,159,323,158,323,157,323,156,324,155,324,154,325,153,325,152,325,151,325,150,326,149,327,148,327,147,327,146,327,145,327,144,327,143,327,142,328,141,329,140,329,139,329,138,329,137,329,136,329,135,329,134,329,133,329,132,329,131,329,130,329,129,329,128,329,127,329,126,330,126,331,125,331,124,331,123,331,122,331,121,331,120,331,119,331,118,331,117,331,116,331,115,331,114,331,113,331,112,331,111,331,110,331,109,332,108,333,107,333,106,333,105,333,104,333,103,333,102,333,101,334,100,335,99,335,98,335,97,335,96,335,95,335,94,335,93,335,92,335,91,335,90,335,89,335,88,335,87,335,86,335,85,335,84,335,83,335,82,335,81,335,80,335,79,335,78,335,77,336,77,337,78,337,79,337,80,338,81,339,82,339,83,339,84,339,85,339,86,340,87,341,88,341,89,341,90,342,91,343,92,343,93,343,94,343,95,343,96,344,97,345,98,345,99,345,100,345,101,345,102,345,103,345,104,346,105,347,105,347,106,347,107,347,108,347,109,347,110,347,111,348,112,349,113,349,114,349,115,349,116,349,117,349,118,349,119,350,120,351,121,351,122,351,123,351,124,351,125,351,126,351,127,351,128,351,129,351,130,351,131,352,132,353,133,353,134,353,135,353,136,353,137,353,138,353,139,353,140,353,141,353,142,353,143,353,144,354,145,355,146,355,147,355,148,355,149,355,150,355,151,355,152,355,153,355,154,355,155,355,156,355,157,355,158,355,159,355,160,355,161,355,162,355,163,355,164,355,165,355,166,355,167,355,168,355,169,355,170,354,171,353,172,353,173,353,174,353,175,353,176,353,177,353,178,353,179,353,180,353,181,353,182,354,183,355,183,356,182,356,181,356,180,356,179,356,178,356,177,356,176,357,175,358,174,359,173,359,172,359,171,359,170,359,169,359,168,359,167,359,166,359,165,359,164,359,163,359,162,359,161,359,160,359,159,359,158,359,157,359,156,359,155,360,154,360,153,360,152,360,151,360,150,360,149,360,148,360,147,360,146,360,145,359,144,358,144,358,143,358,142,358,141,358,140,358,139,358,138,358,137,358,136,358,135,357,134,356,133,356,132,356,131,356,130,356,129,356,128,356,127,356,126,356,125,356,124,356,123,356,122,356,121,355,120,354,119,354,118,354,117,354,116,354,115,354,114,354,113,354,112,354,111,353,110,352,110,352,109,352,108,352,107,352,106,352,105,352,104,351,103,350,102,350,101,350,100,350,99,350,98,349,97,348,96,348,95,348,94,348,93,348,92,347,91,346,90,346,89,346,88,346,87,346,86,345,85,344,84,344,83,344,82,343,81,342,80,342,79,342,78,341,77,340,76,340,75,339,74,339,73,338,72,338,71,337,70,336,69,335,68,335,67,335,66,334,65,333,64,332,63,331,62,331,61,331,60,330,59,329,58,329,57,329,56,328,55,327,54,327,53,327,52,326,51,325,50,324,49,323,48,323,47,323,46,324,46,325,47,326,48,327,48,328,48,329,49,330,50,331,51,332,52,333,53,334,54,335,55,336,56,337,57,338,58,339,59,340,60,341,61,342,62,343,63,344,64,345,65,346,66,347,67,348,68,349,69,350,70,351,71,352,72,353,73,353,74,353,75,354,76,355,77,356,78,357,79,358,80,359,81,360,82,360,83,360,84,361,85,362,86,363,87,364,88,364,89,364,90,365,91,366,92,367,93,368,94,368,95,368,96,369,97,370,98,371,99,372,100,372,101,372,102,373,103,374,104,375,105,376,106,376,107,376,108,377,109,378,110,378,111,378,112,379,113,380,114,380,115,380,116,381,117,381,118,382,119,383,120,383,121,383,122,384,123,385,124,385,125,385,126,386,127,387,128,387,129,387,130,387,131,387,132,388,133,389,134,389,135,389,136,390,137,391,138,391,139,391,140,391,141,391,142,392,143,393,144,393,145,393,146,393,147,393,148,394,149,395,150,395,151,395,152,395,153,395,154,395,155,396,156,396,157,397,158,397,159,397,160,397,161,397,162,397,163,398,164,399,165,399,166,399,167,399,168,399,169,399,170,399,171,400,172,400,173,400,174,400,175,400,176,400,177,400,178,400,179,400,180,401,181,401,182,401,183,401,184,402,185,402,186,402,187,402,188,402,189,402,190,402,191,402,192,402,193,402,194,402,195,402,196,402,197,402,198,402,199,403,200,404,200,405,200,406,199,406,198,406,197,406,196,406,195,406,194,406,193,406,192,406,191,406,190,406,189,406,188,406,187,406,186,406,185,405,184,405,183,405,182,405,181,404,180,404,179,404,178,404,177,404,176,404,175,404,174,404,173,404,172,404,171,404,170,404,169,403,168,402,167,402,166,402,165,402,164,402,163,402,162,402,161,401,160,400,159,400,158,400,157,400,156,400,155,400,154,399,153,398,152,398,151,398,150,398,149,398,148,397,147,396,146,396,145,396,144,396,143,396,142,395,141,394,140,394,139,394,138,394,137,394,136,393,135,392,134,392,133,392,132,392,131,392,130,391,129,390,128,390,127,390,126,389,125,388,124,388,123,388,122,388,121,387,120,386,119,386,118,386,117,385,116,384,115,384,114,384,113,383,112,382,111,382,110,382,109,381,108,380,107,379,106,379,105,379,104,378,103,377,102,377,101,377,100,376,99,375,98,375,97,375,96,374,95,373,94,372,93,371,92,371,91,371,90,370,89,369,88,368,87,367,86,367,85,367,84,366,83,365,82,364,81,363,80,363,79,363,78,362,77,361,76,360,75,359,74,358,73,358,72,357,71,356,70,356,69,355,68,354,68,354,67,353,66,352,66,352,65,351,64,350,64,350,63,349,62,348,62,348,61,347,60,346,60,346,59,345,58,344,58,344,57,343,56,342,56,341,55,340,54,339,53,338,52,337,51,336,50,335,49,335,48,334,47,333,47,332,47,331,46,330,45,329,45,329,44,328,43,327,43,327,42,326,41,325,41,325,40,324,39,323,39,322,39,321,38,320,37,319,36,318,35,317,35,316,35,315,34,314,33,313,32,312,31,312,30,312,29,313,29,314,29,315,30,316,30,317,31,318,31,319,32,320,32,321,32,322,33,323,34,324,35,325,36,326,36,327,36,328,37,329,38,330,38,331,38,332,39,333,40,334,41,335,42,336,42,337,42,338,43,339,44,340,44,341,44,342,45,343,46,344,47,345,48,346,48,347,48,348,49,349,50,350,51,351,52,352,52,353,52,354,53,355,54,356,55,357,56,358,57,359,57,360,57,361,58,362,59,363,60,364,61,365,62,366,63,367,63,368,63,368,64,369,65,370,65,370,66,371,67,372,67,372,68,373,69,374,69,375,70,376,71,377,72,378,73,379,74,380,75,381,76,382,77,383,78,384,79,385,80,386,81,387,82,388,83,389,84,390,85,391,86,392,87,393,88,394,89,395,90,395,91,395,92,396,93,397,94,398,95,399,96,400,97,401,98,402,99,402,100,402,101,403,102,404,103,405,104,406,105,406,106,406,107,407,108,408,109,409,110,410,111,411,112,412,113,412,114,412,115,413,116,414,117,414,118,414,119,415,120,416,121,417,122,418,123,418,124,418,125,419,126,420,127,420,128,420,129,421,130,422,131,422,132,422,133,423,134,424,135,424,136,424,137,425,138,425,139,426,140,427,141,427,142,427,143,428,144,429,145,429,146,429,147,430,148,431,149,431,150,431,151,431,152,431,153,432,154,433,155,433,156,433,157,434,158,435,159,435,160,435,161,435,162,435,163,436,164,437,165,437,166,437,167,437,168,437,169,438,170,439,171,439,172,439,173,439,174,439,175,440,176,441,176,441,177,441,178,441,179,441,180,441,181,441,182,442,183,443,184,443,185,443,186,443,187,443,188,443,189,443,190,443,191,443,192,444,193,445,194,445,195,445,196,445,197,445,198,445,199,445,200,445,201,446,202,446,203,446,204,446,205,446,206,446,207,446,208,446,209,446,210,446,211,446,212,446,213,446,214,447,215,448,216,448,217,448,218,448,219,448,220,448,221,448,222,448,223,448,224,448,225,448,226,448,227,448,228,448,229,448,230,448,231,448,232,448,233,448,234,448,235,448,236,448,237,448,238,448,239,448,240,448,241,448,242,448,243,448,244,448,245,448,246,448,247,448,248,448,249,448,250,448,251,448,252,448,253,448,254,448,255,447,256,446,257,445,257,444,257,444,256,444,255,443,254,442,253,442,252,442,251,442,250,442,249,442,248,442,247,442,246,442,245,442,244,442,243,441,242,440,241,440,240,440,239,440,238,440,237,440,236,440,235,439,234,438,234,438,233,438,232,438,231,438,230,437,229,436,228,436,227,436,226,435,225,434,224,434,223,434,222,433,221,432,220,431,219,430,218,429,217,428,216,427,215,426,214,425,213,424,212,423,211,422,211,421,211,420,210,419,209,418,209,417,209,416,209,415,209,414,209,413,209,413,208,412,207,411,208,410,209,409,209,409,208,408,207,407,208,406,209,405,209,404,209,403,210,402,211,401,211,400,211,399,212,398,213,397,213,396,213,396,212,396,211,396,210,396,209,396,208,396,207,396,206,396,205,396,204,396,203,396,202,396,201,396,200,396,199,396,198,396,197,395,196,394,195,394,194,394,193,394,192,394,191,393,190,392,190,392,189,391,188,390,188,390,187,389,186,388,186,388,185,387,184,386,184,385,183,384,182,383,182,382,181,381,181,380,180,379,180,378,180,377,180,376,180,375,180,374,180,373,180,372,180,371,180,370,180,369,181,368,182,367,182,366,182,365,182,364,182,363,183,362,184,361,185,360,186,359,187,358,188,357,189,356,190,355,191,355,192,355,193,354,194,353,194,352,194,351,194,350,194,350,193,350,192,350,191,350,190,349,189,348,188,348,187,348,186,348,185,348,184,347,183,346,182,345,181,344,180,343,179,342,178,341,177,340,177,339,177,338,176,337,175,336,175,335,175,334,175,333,175,332,175,331,175,330,175,329,175,328,175,327,175,326,175,325,175,324,176,323,177,322,177,321,177,320,178,319,179,318,180,317,181,316,182,315,183,314,184,313,185,312,186,311,187,311,188,311,189,310,190,309,191,309,192,309,193,308,194,307,195,307,196,307,197,306,198,305,199,305,200,305,201,305,202,305,203,305,204,305,205,304,206,303,207,303,208,303,209,302,209,301,209,300,209,299,209,298,208,298,207,298,206,297,205,296,204,295,203,295,202,294,201,293,200,292,199,291,198,291,197,291,196,290,195,289,194,288,193,287,192,286,191,285,190,284,189,283,188,282,187,281,186,280,185,279,184,278,183,277,182,276,181,275,180,274,180,273,180,272,179,272,178,271,177,270,177,269,178,269,179,269,180,270,181,270,182,271,183,271,184,271,185,271,186,272,187,272,188,272,189,272,190,272,191,273,192,274,193,274,194,274,195,274,196,274,197,274,198,274,199,274,200,274,201,274,202,274,203,274,204,274,205,274,206,274,207,274,208,274,209,274,210,274,211,274,212,274,213,274,214,274,215,273,216,272,217,272,218,272,219,272,220,272,221,272,222,272,223,271,224,271,225,271,226,271,227,270,228,269,229,268,230,267,231,267,232,267,233,266,234,265,235,265,236,265,237,264,238,263,239,262,240,261,241,261,242,261,243,260,244,259,245,258,246,257,247,256,248,255,249,254,250,253,251,252,252,251,253,250,254,249,255,248,256,248,257,247,258,246,258,245,259,244,260,244,261,244,262,243,263,242,264,241,265,240,266,239,267,238,268,237,269,236,270,235,271,234,272,233,273,232,274,231,275,230,276,230,277,230,278,229,279,228,280,227,281,226,282,225,283,225,284,225,285,224,286,223,287,223,288,223,289,222,290,221,291,221,292,221,293,221,294,221,295,220,295,219,296,219,297,219,298,219,299,219,300,218,301,217,302,217,303,217,304,217,305,217,306,217,307,217,308,217,309,217,310,217,311,217,312,217,313,217,314,218,315,219,316,219,317,219,318,219,319,219,320,220,321,221,321,221,322,221,323,221,324,222,325,223,325,223,326,224,327,225,327,226,328,227,329,228,330,229,331,230,332,230,333,231,334,232,334,233,334,234,335,235,336,236,336,237,336,238,336,239,336,240,336,241,336,242,336,243,336,244,336,245,336,246,336,247,336,248,335,249,334,250,334,251,334,252,333,253,332,254,332,255,332,256,331,257,330,258,329,259,328,260,327,261,326,262,325,263,324,264,323,265,322,266,321,266,320,266,319,267,318,268,317,269,316,270,315,270,314,270,313,271,312,272,311,273,310,273,309,274,308,275,307,275,306,276,306,277,305,277,304,278,304,279,303,279,302,280,302,281,301,281,300,282,300,283,299,283,298,284,298,285,297,285,296,286,296,287,295,287,294,288,294,289,294,290,293,291,292,292,292,293,292,294,291,295,290,296,290,297,290,298,290,299,290,300,290,301,290,302,290,303,290,304,290,305,290,306,289,307,288,308,288,309,288,310,288,311,288,312,288,313,288,314,288,315,288,316,288,317,288,318,288,319,288,320,288,321,288,322,288,323,288,324,288,325,288,326,289,327,289,328,288,329,287,330,287,331,287,332,287,333,287,334,286,335,285,336,285,337,285,338,284,339,283,340,282,341,281,342,280,343,279,344,278,345,277,346,276,346,275,346,274,347,273,348,272,348,271,348,270,349,269,350,268,350,267,350,266,350,265,350,264,350,263,350,262,350,261,350,260,350,259,350,258,350,257,350,256,350,255,350,254,350,253,349,252,348,252,347,253,347,254,347,255,346,255,345,256,345,257,344,257,343,258,343,259,342,260,341,261,340,262,339,263,338,263,337,263,336,264,335,265,334,266,333,266,332,267,331,267,330,267,329,266,330,265,331,264,331,263,331,262,332,261,333,260,333,259,333,258,334,257,335,256,335,255,335,254,336,253,337,252,337,251,337,250,338,249,338,248,338,247,338,246,339,245,339,244,340,243,340,242,340,241,340,240,340,239,340,238,341,237,342,236,342,235,342,234,342,233,342,232,342,231,342,230,342,229,342,228,342,227,342,226,343,225,344,224,344,223,344,222,344,221,344,220,344,219,344,218,344,217,344,216,344,215,344,214,344,213,344,212,344,211,344,210,344,209,343,208,343,207,343,206,344,205,345,205,346,206,347,207,347,208,347,209,348,210,349,211,349,212,349,213,350,214,351,214,351,215,351,216,351,217,352,218,353,218,353,219,353,220,354,221,355,222,355,223,355,224,355,225,355,226,356,227,357,228,357,229,357,230,358,231,359,232,359,233,359,234,360,235,360,236,360,237,361,238,362,239,362,240,362,241,362,242,362,243,363,244,364,245,364,246,364,247,365,248,366,249,366,250,366,251,367,252,368,252,368,253,368,254,368,255,369,256,370,256,370,257,370,258,370,259,370,260,369,261,368,261,367,260,366,259,365,259,364,259,363,258,362,257,361,256,360,255,359,254,358,253,357,253,356,253,355,252,354,251,353,252,353,253,353,254,353,255,353,256,353,257,354,258,355,259,355,260,355,261,355,262,354,263,353,264,353,265,353,266,353,267,353,268,353,269,353,270,353,271,353,272,352,272,351,273,351,274,351,275,351,276,350,276,349,277,349,278,349,279,348,280,347,281,346,282,345,283,345,284,345,285,344,286,343,287,342,288,341,289,340,290,339,291,338,291,337,291,336,292,335,293,334,294,333,295,332,295,331,295,330,295,329,295,328,296,328,297,327,297,326,297,325,297,324,297,323,298,322,299,321,299,320,299,319,299,318,299,317,300,316,301,315,301,314,301,313,301,312,301,311,302,310,303,309,303,308,303,307,304,306,305,305,305,304,305,303,306,302,307,301,307,300,307,299,308,298,309,297,310,296,311,295,312,294,313,293,314,292,315,292,316,292,317,291,318,290,319,289,320,288,321,288,322,288,323,287,324,286,325,285,326,284,327,284,328,284,329,283,330,282,331,281,332,280,333,279,334,278,335,277,336,276,337,275,338,274,339,273,340,272,341,271,342,270,343,269,343,268,343,267,344,266,345,265,346,264,347,263,347,262,347,261,348,260,349,259,349,258,349,257,350,256,351,255,351,254,350,253,351,252,351,251,352,250,352,249,352,248,352,247,352,246,352,245,352,244,352,243,352,242,352,241,352,240,352,239,353,238,354,237,354,236,354,235,354,234,353,233,352,232,352,231,352,230,352,229,352,228,352,227,352,226,352,225,352,224,352,223,351,222,351,221,350,220,351,219,351,218,350,217,349,216,349,215,349,214,348,213,347,212,346,211,345,210,345,209,345,208,344,207,343,206,342,205,341,204,340,203,339,202,338,201,337,200,336,199,335,198,334,197,333,197,332,197,331,196,330,195,329,195,328,195,327,194,326,193,325,193,324,193,323,193,322,193,321,192,320,191,319,191,318,191,317,191,316,191,315,191,314,191,313,191,312,191,311,191,310,191,309,191,308,191,307,191,306,191,305,191,304,191,303,191,302,191,301,191,300,191,299,191,298,191,297,192,296,193,295,193,294,193,293,193,292,193,291,193,290,193,289,194,288,195,287,195,286,195,285,195,284,195,283,196,282,197,281,197,280,197,279,198,278,199,277,199,276,199,275,200,275,201,274,201,273,201,272,201,271,202,271,203,270,203,269,203,268,204,267,205,266,205,265,205,264,206,263,207,262,208,261,208,260,208,259,209,258,210,257,210,256,210,255,211,254,212,253,213,252,214,251,214,250,214,249,215,248,216,247,216,246,216,245,217,244,218,243,219,242,220,241,220,240,220,239,221,238,222,237,222,236,222,235,223,234,224,233,224,232,224,231,224,230,224,229,225,228,226,227,226,226,226,225,226,224,227,223,228,222,228,221,228,220,228,219,228,218,228,217,228,216,228,215,228,214,228,213,228,212,229,211,229,210,229,209,229,208,229,207,229,206,228,205,228,204,228,203,228,202,228,201,228,200,228,199,228,198,227,197,226,196,226,195,226,194,226,193,226,192,225,191,224,190,224,189,224,188,223,187,222,186,222,185,222,184,221,183,220,182,219,182,218,182,217,182,216,183,215,184,214,184,213,184,212,185,211,186,210,187,209,188,208,188,207,188,206,189,205,190,204,191,203,192,202,193,201,194,200,195,199,196,198,197,197,198,196,199,196,200,196,201,195,202,194,203,194,204,194,205,193,206,192,207,192,208,192,209,191,210,190,211,190,212,190,213,190,214,190,215,189,216,188,217,188,218,188,219,188,220,187,221,186,221,185,221,184,221,184,220,184,219,183,218,182,217,181,216,180,215,179,214,178,213,177,213,176,213,176,212,175,211,174,211,173,211,172,211,172,210,171,209,170,209,169,209,168,209,167,209,166,209,165,209,164,209,163,209,162,209,161,209,160,209,159,209,158,210,157,211,156,211,155,211,154,211,153,211,152,212,152,213,151,213,150,214,150,215,149,215,148,216,148,217,147,217,146,218,146,219,145,219,144,220,144,221,144,222,143,223,142,224,142,225,142,226,142,227,142,228,141,229,141,230,141,231,141,232,141,233,141,234,141,235,141,236,141,237,141,238,141,239,140,240,139,240,138,240,137,239,136,238,136,237,136,236,135,235,134,234,133,233,132,232,131,231,130,230,129,229,128,228,127,228,126,228,125,227,124,226,123,226,122,226,121,226,120,226,119,226,118,225,117,224,116,224,115,224,114,224,113,225,112,226,111,226,110,226,109,226,108,226,107,227,106,228,105,228,104,228,103,229,102,230,101,231,100,232,99,233,98,234,97,235,96,236,95,237,94,238,93,239,93,240,93,241,92,242,91,243,91,244,91,245,91,246,91,247,90,248,89,249,89,250,89,251,89,252,89,253,88,253,87,254,87,255,87,256,87,257,86,257,85,257,84,256,84,255,84,254,84,253,84,252,84,251,84,250,84,249,84,248,84,247,83,246,82,245,82,244,82,243,81,242,80,241,80,240,80,239,79,238,78,237,77,236,76,235,75,234,74,233,73,232,72,232,71,232,70,231,69,230,68,230,67,230,66,229,65,228,64,228,63,228,62,228,61,228,60,228,59,228,58,228,57,228,56,228,55,228,54,228,53,229,52,230,51,230,50,230,49,231,48,232,47,232,46,232,45,233,45,234,44,234,43,235,43,236,42,236,41,237,41,238,40,238,39,239,38,240,37,241,37,242,37,243,36,244,35,245,35,246,35,247,34,248,33,249,32,249,32,248,31,247,31,246,31,245,31,244,31,243,31,242,31,241,31,240,31,239,31,238,31,237,31,236,31,235,31,234,31,233,31,232,31,231,31,230,31,229,31,228,31,227,31,226,31,225,31,224,31,223,31,222,31,221,31,220,31,219,31,218];

//let completeSignal = [-47,-1,62,0,-47,-1,62,0,-50,-1,60,0,-51,-1,63,0,-52,-1,64,0,-51,-1,63,0,-51,-1,63,0,-49,-1,60,0,-49,-1,59,0,-50,-1,65,0,-50,-1,67,0,-50,-1,63,0,-54,-1,65,0,-49,-1,64,0,-52,-1,64,0,-51,-1,62,0,-54,-1,68,0,-54,-1,66,0,-54,-1,67,0,-49,-1,70,0,-48,-1,71,0,-48,-1,67,0,-49,-1,68,0,-47,-1,66,0,-49,-1,67,0,-46,-1,65,0,-47]


let completeSignal = [100,100,100,-100,-100,-100,100,100,100,-100,-100,-100,100,100,100,-100,-100,-100]

//total samples
let N = completeSignal.length ;
let timeInstances = [];

//since there are N samples hence, (sampling period)/(one time instance) will be 1/N
let samplingPeriod = 1/N ;

//one revolution equals 2pi
//hence the amount of revolution in one time instance is 2pi/N
let periodInRadians = (2*Math.PI)*samplingPeriod ;
let fourier = [];

//time will be our x-axis
//basically we will calculate everything in time domain
for( let i = 0 ; i < N ; ++i ){

    timeInstances[i] = i*periodInRadians ;
}

function calcCoEff(){
	
	for(let k = 0; k < N ; ++k){
		
		let realCoEff = 0 ;
		let imgnCoEff = 0 ;
		
		for(let n = 0; n < N ; ++n){
			
			let phi = (2*Math.PI * k * n)/N ;
			
			realCoEff += completeSignal[n] * Math.cos( phi ) ;
			imgnCoEff -= completeSignal[n] * Math.sin( phi ) ;
		}
		
		realCoEff = realCoEff/N;
		imgnCoEff = imgnCoEff/N;
		
		let radius   = Math.sqrt(realCoEff*realCoEff + imgnCoEff*imgnCoEff);
		let rotation = Math.atan( imgnCoEff/realCoEff );
		
		console.log( 'amplitude: ' + radius );
		console.log( 'phase: '  + rotation );
		
		fourier[k] = {
            a         : realCoEff,
            b         : imgnCoEff,
            amplitude : radius,
            frequency : k,
			phase 	  : rotation
        };
	}
	
    fourier.sort( (elem1,elem2) => elem2.amplitude - elem1.amplitude );
    
	/*let greatestAmp       = fourier[0].amplitude ;
	
	//scaling the values so that the wave as well as circles fit in the frame
    for( let value of fourier ){
        
        value.a         = (value.a/greatestAmp)*100;
        value.b         = (value.b/greatestAmp)*100;
        value.amplitude = (value.amplitude/greatestAmp)*100;
    }*/
}

let degToRad = function(degrees){
    let angle = degrees;
    return angle*(Math.PI/180);
}

function drawCircle(xVal, yVal, radX, radY){

    gContext.strokeStyle = "rgba(255,240,128,0.2)";

    gContext.beginPath();
    gContext.ellipse(xVal, yVal, radX, radY, 0, 0, 2*Math.PI);
    gContext.stroke();
    gContext.closePath();
}

function drawRadius(x1, y1, x2, y2){

    gContext.strokeStyle = "rgba(255,240,128,1)";

    gContext.beginPath();
    gContext.moveTo(x1, y1);
    gContext.lineTo(x2, y2);
    gContext.stroke();
    gContext.closePath();
}

function wavePlotter(){

    for( let value of path ){

        gContext.beginPath();
        gContext.ellipse(value.endX, value.endY, 0.5, 0.5, 0, 0, 2*Math.PI);
        gContext.stroke();
        gContext.closePath();
    }
}

function epicycles(pointX, pointY){

    let t = timeInstances[timePointer];

    let centX = pointX;
    let centY = pointY;
    let nextX = centX;
    let nextY = centY;

	//draw circles
    for( let value of fourier ){

        centX = nextX;
        centY = nextY;

        let radius = value.amplitude ;

        //let xT = value.a*Math.cos( value.frequency*t ) + value.b*Math.sin( value.frequency*t );
        //let yT = value.b*Math.cos( value.frequency*t ) - value.a*Math.sin( value.frequency*t );
		
		let xT = radius*Math.cos( value.frequency*t + value.phase + (Math.PI/2) );
		let yT = radius*Math.sin( value.frequency*t + value.phase + (Math.PI/2) );
		
		/*if( value.frequency === 256 ){
			
			console.log( "xT : " + xT ); 
			console.log( "yT : " + yT ); 
		}*/
		
        
        nextX = centX + xT;
        nextY = centY + yT;

        drawCircle(centX, centY, radius, radius);
        drawRadius(centX, centY, nextX , nextY);
    }
    
    return {endX : nextX, endY : nextY};
}

function executor(){

    setUpCanvas();

	//size of canvas is 1000x600, starting with the midpoint
    let currentPoint      = epicycles(500,300);

    gContext.strokeStyle = "rgba(128,240,255,1)";
	
	//start storing calculated points
    path.push( currentPoint );
	
	//plot the path/wave
    wavePlotter();
	
	//increment the timePointer to perform calculations for the next instance
    ++timePointer;

	//if timePointer is greater than the length of array that stores all time instances, reset!
    if( timePointer > timeInstances.length ){
        timePointer = 0 ;
        //path.length = 0;
    }
}

calcCoEff() ;
let pointer = 0 ;

//storage for the entire path that has to be drawn
let path = [];

let displacedX = 0;
let displacedY = 0;

let timePointer = 0;

setInterval( executor, 50 );